	NAME "CH04_16"

DISP	MACRO	POS
	MOV	DX,	OFFSET POS
	MOV	AH,	09H
	INT	21H
DISP	ENDM
	
STACK	SEGMENT	STACK
	DD	128	DUP(00000000H)
STACK	ENDS
	
DATA	SEGMENT
MSG	DB	'Password:', 0DH, 0AH, '$'
PWD	DB	'ROOT', 00H, '$'
ERR	DB	0DH, 0AH, 'Sorry!', 0DH, 0AH, '$'
PSS	DB	0DH, 0AH, 'Hello!', 0DH, 0AH, '$'
DATA	ENDS

CODE	SEGMENT
	ASSUME  CS:CODE,	DS:DATA,	SS:STACK
START:  
	PUSHA
	
	MOV	AX,	DATA
	MOV	DS,	AX
	LEA	SI,	PWD
	DISP	MSG
READY:
	MOV	AH,	01H
	INT	16H
	JZ	READY
	MOV	AH,	00H
	INT	16H
	CMP	[SI],	AL
	JE	PRT
	DISP	ERR
	JMP	BRK
PRT:
	MOV	AL,	'*'
	MOV	AH,	0EH
	INT	10H
	INC	SI
	CMP	[SI],	00H
	JNZ	READY
SUC:
	DISP	PSS
BRK:	
	POPA
	MOV	AH,	4CH
	INT	21H	
CODE	ENDS

END	START
